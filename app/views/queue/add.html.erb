<div class="container">
  <div class="page-header">
    <h1>Select your top food picks</h1>
  </div>

  <%= simple_form_for :person, html: {:onsubmit => 'return validateId()'} do |f| %>
      <%= f.input :name, label: 'Hipchat @id' %>
      <%= f.input :preferences, collection: FoodCats.catlist, label: 'First choice.', include_blank: false, input_html: { name: 'person[preferences][]'} %>
      <%= f.input :preferences, collection: FoodCats.catlist, label: 'Second choice.', include_blank: false, input_html: { name: 'person[preferences][]'} %>
      <%= f.input :preferences, collection: FoodCats.catlist, label: 'Third choice.', include_blank: false, input_html: { name: 'person[preferences][]'} %>
      <%= f.button :submit, value: 'Queue', class: 'btn btn-primary' %>
  <% end %>
</div>


<script>
    function validateId() {
        var x = document.forms["idForm"]["person_name"].value;
        if (x == null || x == "") {
            alert("ID can't be blank");
            return false;
        }

        if (x.charAt(0) != '@'){
            alert("IDs start with @");
            return false;
        }
    }
</script>