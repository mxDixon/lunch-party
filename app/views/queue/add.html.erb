<div class="container">
  <div class="page-header">
    <h1>Select your top food picks</h1>
  </div>

  <%= form_tag({:controller => :queue, :action => :personify}, {name: 'idForm', onsubmit: 'return validateId()', role: 'form'}) do %>
    <div class="form-group">
      <label for="person_pref1">Pick 1.</label>
      <%= select('person', 'pref1', FoodCats.catlist) %>
      <br/>
      <label for="person_pref1">Pick 2.</label>
      <%= select('person', 'pref2', FoodCats.catlist) %>
      <br/>
      <label for="person_pref1">Pick 3.</label>
      <%= select('person', 'pref3', FoodCats.catlist) %>
    </div>
    <div class="form-group">
      <label for="person_name">Hipchat Id</label>
      <%= text_field(:person, :name, size: 20) %>
      <p class="help-block">Reminder: default is @FirstLast</p>
    </div>
    <%= submit_tag('Queue', class: 'btn btn-primary')%>

  <% end %>
</div>



<script>
    function validateId() {
        var x = document.forms["idForm"]["person_name"].value;
        if (x == null || x == "") {
            alert("ID can't be blank");
            return false;
        }

        if (x.charAt(0) != '@'){
            alert("IDs start with @");
            return false;
        }
    }
</script>